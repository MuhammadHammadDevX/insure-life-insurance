@{
    ViewData["Title"] = "loan";
    Layout = "~/Views/Shared/userpanel.cshtml";
}

<!-- Page Header Start -->
<div class="container-fluid page-header py-5 mb-5 wow fadeIn" data-wow-delay="0.1s">
    <div class="container py-5">
        <h1 class="display-4 animated slideInDown mb-4">Loan</h1>
        <nav aria-label="breadcrumb animated slideInDown">
            <ol class="breadcrumb mb-0">
                <li class="breadcrumb-item"><a href="@Url.Action("Index","Userpanel")">Home</a></li>
                <li class="breadcrumb-item"><a href="#">Insurance Services</a></li>
                <li class="breadcrumb-item active" aria-current="page">Loan</li>
            </ol>
        </nav>
    </div>
</div>
<!-- Page Header End -->
@{
    var successMessage = TempData["LoanApplicationSuccess"] as string;
    if (!string.IsNullOrEmpty(successMessage))
    {
        <script>
            alert('@successMessage'); // Display success message as an alert
        </script>
    }
}

<div class="container">
    <div class="row g-5">
        <div class="col-lg-12 wow fadeIn" data-wow-delay="0.1s">
            <div class="col-lg-6">
                <h3 class="mb-5">Apply For Loan</h3>
            </div>
            <form method="post">
                <div class="row g-3">
                    <!-- Name -->
                    <div class="col-md-6">
                        <div class="form-floating">
                            <input type="text" class="form-control" id="name" name="loan_username" pattern="[A-Za-z\s]{3,50}" title="Only alphabets and spaces, 3 to 50 characters" required />
                            <label for="name">Name</label>
                        </div>
                    </div>
                    <!-- CNIC -->
                    <div class="col-md-6">
                        <div class="form-floating">
                            <input type="text" class="form-control" id="cnic" name="loan_usercnicnumber" pattern="\d{5}-\d{7}-\d{1}" title="CNIC format: 12345-1234567-1" required />
                            <label for="cnic">CNIC Number (Format: 12345-1234567-1)</label>
                        </div>
                    </div>
                    <!-- Date of Birth -->
                    <div class="col-md-6">
                        <div class="form-floating">
                            <input type="date" class="form-control" id="dob" name="loan_userdateofbirth" required />
                            <label for="dob">Date of Birth</label>
                        </div>
                    </div>
                    <!-- Phone Number -->
                    <div class="col-md-6">
                        <div class="form-floating">
                            <input type="text" class="form-control" id="phone" name="loan_userphonenumber" pattern="\+92\d{3}\d{7}" title="Phone number format: +923001234567" required />
                            <label for="phone">Mobile Number (Format : +923001234567 )</label>
                        </div>
                    </div>
                    <!-- Email -->
                    <div class="col-md-6">
                        <div class="form-floating">
                            <input type="email" class="form-control" id="email" name="loan_useremail" required />
                            <label for="email">Email Address</label>
                        </div>
                    </div>
                    <!-- City -->
                    <div class="col-md-6">
                        <div class="form-floating">
                            <input type="text" class="form-control" id="city" name="loan_usercity" required />
                            <label for="city">City</label>
                        </div>
                    </div>
                    <!-- Employee Sector -->
                    <div class="col-md-6">
                        <div class="form-floating">
                            <select id="sector" class="form-control custom-drop bg-transparent" name="loan_usersector" required>
                                <option hidden>Government/Private Employee</option>
                                <option value="GOVERNMENT">GOVERNMENT</option>
                                <option value="PRIVATE">PRIVATE</option>
                                <option value="PENSIONER">PENSIONER</option>
                            </select>
                            <label for="sector" hidden>Government/Private Employee</label>
                        </div>
                    </div>
                    <!-- Organization Name -->
                    <div class="col-md-6">
                        <div class="form-floating">
                            <input type="text" class="form-control" id="organization" name="loan_userorganizationname" required />
                            <label for="organization">Organization Name</label>
                        </div>
                    </div>
                    <!-- Monthly Net Income -->
                    <div class="col-md-6">
                        <div class="form-floating">
                            <input type="text" class="form-control" id="income" name="loan_usermontlynetincome" pattern="\d+" title="Only numeric values are allowed" required />
                            <label for="income">Monthly Net Income</label>
                        </div>
                    </div>
                    <!-- Loan Amount -->
                    <div class="col-md-6">
                        <div class="form-floating">
                            <input type="text" class="form-control" id="loanAmount" name="loan_userloanamount" pattern="\d+" title="Only numeric values are allowed" required />
                            <label for="loanAmount">Loan Amount</label>
                        </div>
                    </div>
                    <!-- Desired Loan Repayment Period -->
                    <div class="col-md-6">
                        <div class="form-floating">
                            <select id="repaymentPeriod" class="form-control custom-drop bg-transparent" name="loan_desiredloanrepaymentperiod" required>
                                <option hidden>Desired Loan Repayment Period</option>
                                @for (int i = 1; i <= 12; i++)
                                {
                                    <option value="@i MONTH">@i MONTH</option>
                                }
                            </select>
                            <label for="repaymentPeriod" hidden>Desired Loan Repayment Period</label>
                        </div>
                    </div>
                    <!-- Information Notes -->
                    <div class="col-md-12">
                        <div class="padded-content">
                            <ul class="mb60">
                                <li style="font-size: 13px">Minimum Income cannot be less than 35,000 PKR</li>
                                <li style="font-size: 13px">Financing limit ranging from PKR 25,000 to PKR 3,000,000.</li>
                                <li style="font-size: 13px">Submission of this form does not guarantee loan approval. Insure Loan team will contact you soon.</li>
                                <li style="font-size: 13px">Your data is protected as per the privacy protocol of this website.</li>
                            </ul>
                        </div>
                    </div>
                    <!-- Submit Button -->
                    <div class="col-md-12">
                        <input type="submit" class="btn btn-primary py-3 px-5" value="SUBMIT">
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>
